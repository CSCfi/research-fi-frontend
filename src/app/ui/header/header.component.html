<!-- # This file is part of the research.fi API service
#
# Copyright 2019 Ministry of Education and Culture, Finland
#
# :author: CSC - IT Center for Science Ltd., Espoo Finland servicedesk@csc.fi
# :license: MIT -->

<header>
    <div offClick class="navbar navbar-expand-lg navbar-light row">
        <div class="logo col-9 col-lg-3">
            <a class="navbar-brand" routerLink="">
                <img src="../../../assets/logo.png" alt="Research.fi">
            </a>
            <div class="logo-text d-none d-sm-block"><span i18n="Site slogan @@appSlogan">Ikkuna tutkimukseen Suomessa</span></div>
        </div>
        <nav class="nav-top col-3 col-lg-9 row no-padding">
            <div class="mobile ml-auto no-padding">
                <button class="navbar-toggler navbar-toggler-right container-fluid" type="button" (click)="toggleNavbar()" #navbarToggler>
                    <span *ngIf="!navbarOpen" class="fa fa-bars fa-lg"></span>
                    <span *ngIf="navbarOpen" class="fa fa-times fa-lg"></span>
                </button>
                <div *ngIf="!navbarOpen" class="toggle-menu-text">Valikko</div>
                <div *ngIf="navbarOpen" class="toggle-menu-text">Sulje</div>
            </div>
            <div class="col-lg-12 no-padding" [class.overflow-hider]="hideOverflow && mobile" [class.absolute]="mobile" 
                [ngClass]="mobile ? (hideOverflow ? 'invisible' : 'visible') : ''" #overflowHider>
                <div class="collapse navbar-collapse menu row" [class.mobile-bar]="mobile" [class.open]="navbarOpen && mobile" #mainNavbar>
                    <div class="navbar-expand mx-auto navbar-nav lang mobile">
                        <ul class="navbar-nav mx-auto">
                            <li [class.col-4]="mobile">
                                <a class="nav-item nav-link lang-box" [class.active-lang]="lang==='fi-FI'" href="/" (click)="setMobileLang('fi')">
                                    <span class="label">Suomi</span>
                                </a>
                            </li>
                            <li [class.col-4]="mobile">
                                <a class="nav-item nav-link lang-box" [class.active-lang]="lang==='sv'" href="/sv/" (click)="setMobileLang('sv')">
                                    <span class="label">Svenska</span>
                                </a>
                            </li>
                            <li [class.col-4]="mobile">
                                <a class="nav-item nav-link lang-box" [class.active-lang]="lang==='en'" href="/en/" (click)="setMobileLang('en')">
                                    <span class="label">English</span>
                                </a>
                            </li>
                        </ul>
                    </div>
                    <ul class="nav-left navbar-nav main col no-padding" [class.row]="!mobile">
                        <li class="nav-item">
                            <a class="nav-item nav-link" routerLink="/" routerLinkActive="active-link" [routerLinkActiveOptions]="{exact: true}"
                            (click)="navbarOpen && toggleNavbar()">
                                <span i18n="Main navigation item|Home" class="label">Etusivu</span>
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-item nav-link" routerLink="/results/" routerLinkActive="active-link" (click)="navbarOpen && toggleNavbar()">
                                <span i18n="Main navigation item|Search" class="label">Haku</span>
                            </a>
                        </li>
                    </ul>
                    <ul class="nav-right navbar-nav main col no-padding" [class.row]="!mobile">
                        <li class="nav-item">
                            <a class="nav-item nav-link" href="#">
                                <span i18n="Main navigation item|Science politics" class="label">Tiedepolitiikka</span>
                            </a>
                            <i class="fa fa-angle-down mobile"></i>
                        </li>
                        <li class="nav-item">
                            <a class="nav-item nav-link" href="#">
                                <span i18n="Main navigation item|Science news" class="label">Tiedeuutiset</span>
                            </a>
                        </li>
                        <div *ngIf="mobile" class=""></div>
                    </ul>
                    <div class="navbar-expand navbar-nav lang langSelect col-2 no-padding">
                        <!-- <ul class="navbar-nav ml-auto desktop">
                            <a class="nav-item nav-link" [class.active-lang]="lang==='fi-FI'" href="/" (click)="setLang('fi')">FI</a><div class="separator"> / </div>
                            <a class="nav-item nav-link" [class.active-lang]="lang==='sv'" href="/sv/" (click)="setLang('sv')">SV</a><div class="separator"> / </div>
                            <a class="nav-item nav-link" [class.active-lang]="lang==='en'" href="/en/" (click)="setLang('en')">EN</a>
                        </ul> -->
                        <mat-form-field>
                            <!-- <mat-label>{{currentLang}}</mat-label> -->
                            <mat-select [(value)]="currentLang" (selectionChange)="setLang($event)">
                                <mat-option value="FI">
                                    FI
                                </mat-option>
                                <mat-option value="SV">
                                    SV
                                </mat-option>
                                <mat-option value="EN">
                                    EN
                                </mat-option>
                            </mat-select>
                        </mat-form-field>
                    </div>
                </div>
            </div>
        </nav>
    </div>
    <div *ngIf="navbarOpen" id="overlay" (click)="toggleNavbar()"></div>
</header>