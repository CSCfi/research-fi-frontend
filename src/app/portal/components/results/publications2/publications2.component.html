<div style='margin-bottom: 2rem'>
  <input type='text' placeholder='Hakusana' [(ngModel)]='keywords' (keydown.enter)='searchKeywords(keywords)'>

  <button (click)='searchKeywords(keywords)'>HAE</button>
</div>

<div>
  <button (click)='previousPage()'>Edeltävä sivu</button>
  <button (click)='nextPage()'>Seuraava sivu</button>
</div>

<div>
  <div>Keywords: {{keywords}}</div>
  <div>Search Parameters: {{searchParams$ | async | json}}</div>
</div>

<div>
  <button (click)='setPageSize(10)'>Näytä 10</button>
  <button (click)='setPageSize(100)'>Näytä 100</button>
</div>

<div style='display: flex'>
  <div style='background-color: lightgreen'>
    <div style='background-color: orange; width: 300px; white-space: pre'>
      <!-- {{ yearCounts$ | async | json }} -->

      <!-- checkbox placeholder for now for later -->
      <!-- yearCount.year for year string -->
      <!-- yearCount.count for count of that year -->

      <!-- click the checkbox sets the filter to the url -->

      <!-- TODO -->

      <div>
        <!--{{ yearFilters$ | async | json }}-->

        <ng-container *ngFor='let yearFilter of yearFilters$ | async'>
          <div style='user-select: none; cursor: pointer' (click)='toggleParam("year", yearFilter.year)'>
            <input type='checkbox' [ngModel]='yearFilter.enabled'>
            {{yearFilter.year}}
            ({{yearFilter.count}})
          </div>
        </ng-container>
      </div>

      <!-- TODO DELETE -->
      <div style='margin-bottom: 1rem'></div>

      <div>
        <!--{{ organizationFilters$ | async | json }}-->

        <!-- TODO ATTEMPT 1 at making checkbox enabled organization filters -->
        <ng-container *ngFor='let organizationFilter of organizationFilters$ | async'>
          <div style='user-select: none; cursor: pointer' (click)='toggleParam("organization", organizationFilter.id)'>
            <input type='checkbox' [ngModel]='organizationFilter.enabled'>
            {{organizationFilter.name}}
            ({{organizationFilter.count}})
          </div>
        </ng-container>
      </div>


    </div>
  </div>

  <div style='background-color: lightblue'>
    <div style='background-color: lightgrey; height: 75px; display: flex'>

      <!-- TODO chips for filters and remove button -->
      <!-- year filters -->

      <ng-container *ngFor='let yearFilter of yearFilters$ | async'>
        <ng-container *ngIf='yearFilter.enabled'>
          <div style='display: flex; justify-content: center; align-items: center; margin: 5px; padding: 5px; border: 1px solid black; border-radius: 5px'>
            <div style='margin-right: 5px'>{{yearFilter.year}}</div>
            <button (click)='toggleParam("year", yearFilter.year)'>X</button>
          </div>
        </ng-container>
      </ng-container>

    </div>

    <table cdk-table [dataSource]="dataSource">
      <ng-container cdkColumnDef="publicationName">
        <cdk-header-cell cdk-header-cell *cdkHeaderCellDef>publicationName</cdk-header-cell>

        <cdk-cell *cdkCellDef="let element">
          <div [innerHTML]='element.publicationName'></div>
        </cdk-cell>
      </ng-container>

      <ng-container cdkColumnDef="authorsText">
        <cdk-header-cell *cdkHeaderCellDef>authorsText</cdk-header-cell>

        <cdk-cell *cdkCellDef="let element">
          <div [innerHTML]='element.authorsText'></div>
        </cdk-cell>
      </ng-container>

      <ng-container cdkColumnDef="publisherName">
        <cdk-header-cell *cdkHeaderCellDef>publisherName</cdk-header-cell>

        <cdk-cell *cdkCellDef="let element">
          <div [innerHTML]='element.publisherName'></div>
        </cdk-cell>
      </ng-container>

      <ng-container cdkColumnDef="publicationYear">
        <cdk-header-cell *cdkHeaderCellDef>publicationYear</cdk-header-cell>

        <cdk-cell *cdkCellDef="let element">
          <div [innerHTML]='element.publicationYear'></div>
        </cdk-cell>
      </ng-container>

      <tr cdk-header-row *cdkHeaderRowDef="displayedColumns"></tr>
      <tr cdk-row *cdkRowDef="let row; columns: displayedColumns;"></tr>
    </table>

    <div style='background-color: grey'> <!-- input muuttujat? -->
      <app-pagination [page]='page' [pageSize]='size' [total]='50'></app-pagination>
    </div>
  </div>
</div>
