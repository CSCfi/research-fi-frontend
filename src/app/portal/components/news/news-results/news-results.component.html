<div class="row pt-4 mt-2" *ngIf="data">
  <!-- Filters -->
  <div class="col-12 col-lg-3 px-0 pb-3 pb-lg-0">
    <aside>
      <!-- results/filters -->
      <app-filters
        [responseData]="filterValues"
        [tabData]="'news'"
      ></app-filters>
    </aside>
  </div>
  <div class="col-12 col-lg-8 col" [class.p-0]="mobile">
    <!-- Search -->
    <div class="col-lg-6 px-0 pt-1 pb-4">
      <form>
        <div class="row d-flex">
          <div class="col input px-0">
            <label
              for="searchInput"
              class="sr-only"
              i18n="@@searchNewsPlaceHolder"
              >Hae uutisista...</label
            >
            <input
              #searchInput
              id="searchInput"
              [formControl]="queryField"
              mat-input
              type="text"
              value="{{ searchService.currentInput | async }}"
              id="searchInput"
              i18n-placeholder="@@searchNewsPlaceHolder"
              placeholder="Hae uutisista..."
              class="search"
            />
            <span
              #reset
              tabindex="0"
              class="reset"
              *ngIf="queryField?.value?.length > 0 || currentTerm"
              (click)="resetSearch()"
              i18n-tooltip="@@resetSearchTooltip"
              tooltip="Tyhjennä haku"
            >
              <i class="fa fa-times"></i>
            </span>
          </div>
          <div class="col-auto pr-0">
            <button
              type="submit"
              class="search"
              mat-button
              color="primary"
              (click)="searchNews()"
            >
              <i class="pr-1 fa fa-search"></i
              ><ng-container i18n="Search@@searchButton">Hae</ng-container>
            </button>
          </div>
        </div>
      </form>
    </div>

    <!-- Active filters -->
    <aside class="col-12 col-lg-7 pt-3 px-0">
      <!-- results/active-filters -->
      <app-active-filters></app-active-filters>
    </aside>

    <div class="pb-2 font-italic h5 font-weight-normal">
      {{ data[0]?.total | thousandSeparator }}
      <span
        *ngIf="data[0]?.total === 1; else resultsLabel"
        i18n="@@singleResult"
        >hakutulos</span
      >

      <ng-template #resultsLabel
        ><span i18n="@@resultCount">hakutulosta</span></ng-template
      >
    </div>

    <!-- News -->
    <app-news-card
      *ngFor="let item of data"
      [item]="item"
      [term]="currentTerm"
    ></app-news-card>

    <!-- Fallback if no news -->
    <div
      *ngIf="!data?.length"
      role="alert"
      class="col-12 justify-content-center justify-content-lg-start mt-4 d-flex flex-column px-0"
    >
      <h3>
        <ng-container i18n="@@noResultsWithTerm"
          >Ei tuloksia hakutermillä</ng-container
        >
        "{{ currentTerm }}".
      </h3>
      <br />
      <p i18n="@@noResultsInfo">
        Hakutermissä voi olla kirjoitusvirhe, tai sitä vastaavaa rajaustekijää
        ei ole tarjolla tässä osiossa.
      </p>
    </div>

    <!-- Pagination -->
    <app-news-pagination [responseData]="data"></app-news-pagination>
  </div>
</div>
