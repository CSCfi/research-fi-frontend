<!-- This file is part of the research.fi API service
Copyright 2019 Ministry of Education and Culture, Finland
:author: CSC - IT Center for Science Ltd., Espoo Finland servicedesk@csc.fi
:license: MIT -->

<div class="main-content" #main>
  <div class="row justify-content-center">
    <h1 class="col-12">{{ title }}</h1>
    <mat-spinner
      *ngIf="loading"
      [diameter]="40"
      class="position-absolute"
      i18n-aria-label="@@loading"
      aria-label="Ladataan"
    ></mat-spinner>
    <!-- <p class="col-6 offset-3">{{nOfResults + " tulos" + ((nOfResults - 1) ? "ta" : "")}}</p> -->
    <!-- <button class="col-3" mat-raised-button color="primary" (click)="swapVis()" i18n="@@visualType">Vaihda visualisaation tyyppi√§</button> -->
  </div>
  <div class="visual-container">
    <!-- <app-treemap *ngIf="!visType" (title)="updateTitle($event)" [style.min-height.px]="height + 90" [data]="allData" [width]="width" [hierarchy]="hierarchy" [height]="height"></app-treemap> -->
    <!-- <app-sunburst *ngIf="visType" (title)="updateTitle($event)"  [style.min-height.px]="height" [data]="allData" [index]="index" [hierarchy]="hierarchy" [width]="width" [height]="height"></app-sunburst> -->
    <app-bar
     *ngIf="visualisationType"
      [data]="data"
      [tab]="tab"
      [height]="height"
      [width]="width"
      [visIdx]="visIdx"
      [percentage]="percentage"
      [searchTerm]="searchTerm"
      [searchTarget]="searchTarget"
    ></app-bar>
    <app-pie 
      *ngIf="!visualisationType"
      [data]="data"
      [tab]="tab"
      [height]="height"
      [width]="width"
      [visIdx]="visIdx"
      [percentage]="percentage"
      [searchTerm]="searchTerm"
      [searchTarget]="searchTarget">
      
    </app-pie>
  </div>
</div>
