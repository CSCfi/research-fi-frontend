<!--  This file is part of the research.fi API service
 Copyright 2019 Ministry of Education and Culture, Finland
 :author: CSC - IT Center for Science Ltd., Espoo Finland servicedesk@csc.fi
 :license: MIT -->

<mat-dialog-content>
  <div class="row d-flex justify-content-between dialog-header">
    <div class="col">
      <h4 id="dialog-sizes-name1" class="modal-title pull-left col">
        {{ editorData.data.label }}
      </h4>
    </div>
    <div class="col-auto">
      <app-close-button
        class="pull-right pr-3"
        (click)="close()"
        (keydown.enter)="close()"
        autofocus
        tabindex="-1"
      ></app-close-button>
    </div>
  </div>

  <div class="row d-flex justify-content-center">
    <div class="col">
      <div class="row">
        <div class="col">
          <app-profile-panel
            [dataSources]="editorData.dataSources"
            [primarySource]="primarySource"
            [data]="editorData.data"
            (onGroupToggle)="toggleGroup($event)"
            (onRadioItemToggle)="toggleRadio($event)"
            (onSingleItemToggle)="toggleSingle($event)"
            (onPrimaryValueChange)="togglePrimaryValue($event)"
          ></app-profile-panel>
        </div>
      </div>

      <div class="row pb-3">
        <div class="col">
          <mat-checkbox [checked]="allSelected" (change)="toggleAll()"
            >Valitse kaikki</mat-checkbox
          >
        </div>
        <div class="col px-0">
          <div class="row d-flex justify-content-end">
            <div class="col-auto pr-0">
              <app-secondary-button
                (click)="close()"
                content="Peruuta"
              ></app-secondary-button>
            </div>
            <div class="col-auto">
              <app-primary-action-button
                (click)="saveChanges()"
                content="Tallenna"
              ></app-primary-action-button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</mat-dialog-content>
