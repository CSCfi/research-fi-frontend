<!--  This file is part of the research.fi API service
 Copyright 2019 Ministry of Education and Culture, Finland
 :author: CSC - IT Center for Science Ltd., Espoo Finland servicedesk@csc.fi
 :license: MIT -->

<div class="spinner-center" *ngIf="!resultData">
  <mat-spinner [diameter]="80"></mat-spinner>
</div>
<!-- Data -->
<div *ngFor="let organizations of resultData">
  <!-- Active filters -->
  <!-- <app-active-filters></app-active-filters> -->
  <!-- Results -->
  <div class="row no-margin">
      <div class="col col-1 icon" style="margin-right: 10px;"></div>
      <div class="col col-7 d-none d-lg-block">
          <span class="bold uppercase" [ngClass]="sortColumn === 'name' ? (!sortDirection ? 'asc' : 'desc') : 'unsorted'"
          (click)="sortBy('name')">Nimi</span>
      </div>
      <div class="col col-4 d-none d-lg-block">
          <span class="bold uppercase" [ngClass]="sortColumn === 'sector' ? (!sortDirection ? 'asc' : 'desc') : 'unsorted'"
          (click)="sortBy('sector')">Sektori</span>
      </div>
  </div>

  <div *ngFor="let organizations of resultData;">
      <div class="row no-margin single" style="margin: 20px auto!important" *ngFor="let organization of organizations.hits.hits; let i = index">
          <div class="col col-1 icon" style="margin-right: 10px; margin-top: -18px;">
              <a class="icon" routerLink="/results/organization/{{organization._source.organizationId}}">
                <fa-icon [icon]="faIcon"></fa-icon>
              </a>
          </div>          
          <div class="col col-7">
              <a routerLink="/results/organization/{{organization._source.organizationId}}">
                <h3 style="font-size: 1rem; margin-bottom: 0;" [innerHtml]="organization._source.nameFi | highlight: input"></h3>
            </a>
          </div>          
          <div class="col col-4">
              <span [innerHtml]="organization._source.sectorNameFi | highlight: input"></span>
          </div>
      </div>       
  </div>
  <!-- Pagination -->
  <app-pagination [responseData]="resultData" (queryEvent)="getOrganizationData($event)"></app-pagination>
</div>   
