<!-- # This file is part of the research.fi API service
#
# Copyright 2019 Ministry of Education and Culture, Finland
#
# :author: CSC - IT Center for Science Ltd., Espoo Finland servicedesk@csc.fi
# :license: MIT -->

<app-search-bar></app-search-bar>

<div class="container" style="margin-top:25px;">
    <div class="row">
        <div class="col col-2" style="padding-top: 49px;">
            <p>
                <span>Suodata hakua</span>
            </p>
            <section class="filter-section">
                <mat-checkbox>Filter 1</mat-checkbox><br>
                <mat-checkbox>Filter 2</mat-checkbox><br>
                <mat-checkbox>Filter 3</mat-checkbox><br>
                <mat-checkbox>Filter 4</mat-checkbox><br>
                <mat-checkbox>Filter 5</mat-checkbox><br>
            </section>
        </div>

        <div class="col">
            <mat-tab-group>
                <mat-tab label="Julkaisut"> 
                    <div class="spinner-center" *ngIf="undefined === responseData">
                        <mat-spinner [diameter]="80"></mat-spinner>
                    </div>
                    <div *ngFor="let publication of responseData">
                        <div *ngFor="let x of publication.hits.hits">
                            <mat-expansion-panel (opened)="panelOpenState = true" (closed)="panelOpenState = false">
                                <mat-expansion-panel-header>
                                <mat-panel-title>
                                    <strong>{{x._source.doc.row.publicationName}}</strong>
                                </mat-panel-title>
                                </mat-expansion-panel-header>
                                <p><strong>Tunnus:</strong> {{x._source.doc.row.publicationId}}</p>
                                <p><strong>Tutkijat:</strong> {{x._source.doc.row.authorsText}}</p>
                                <p><strong>Julkaisuvuosi:</strong> {{x._source.doc.row.reportingYear}}</p>
                                <p><strong>Juuli-osoite: </strong> <a href="{{x._source?.doc?.row.juuliAddress}}" target="_blank">{{x._source?.doc?.row.juuliAddress}}</a></p>
                            </mat-expansion-panel>
                        </div>
                    </div>
                    <a *ngIf="this.searchService.from > 0" (click)="previousPage()" routerLink="/results">Edellinen sivu | </a>
                    <a (click)="nextPage()" routerLink="/results">Seuraava sivu</a>
                </mat-tab>
                <mat-tab label="Tutkijat"> </mat-tab>
                <mat-tab label="Projektit"> </mat-tab>
                <mat-tab label="Organisaatiot"> </mat-tab>
            </mat-tab-group>
        </div>
    </div>
</div>
