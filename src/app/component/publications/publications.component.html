<!-- # This file is part of the research.fi API service
#
# Copyright 2019 Ministry of Education and Culture, Finland
#
# :author: CSC - IT Center for Science Ltd., Espoo Finland servicedesk@csc.fi
# :license: MIT -->

<!-- <app-search-bar (onSelectedOption)="onSelectedFilter($event)"></app-search-bar> -->
<div class="row">
  <div class="col-12 search" [ngClass]="status ? 'increase' : 'decrease'">
    <h1 class="text-center">Hae tutkimuksen tekijöitä ja tuloksia.</h1>
    <div class="form-group has-search">
      <div class="input-group">
        <input type="text" #publicationSearchInput class="form-control" placeholder="Hae" />
        <div class="input-group-append">
          <button class="btn btn-search" type="button" routerLink="/publications">
            <i class="fa fa-search"></i>
          </button>
        </div>
      </div>
      <p class="text-right ext-search">
        <a (click)="increaseEvent()" [ngClass]="status ? 'increase' : 'decrease'">
          Laajennettu haku  
        </a>
      </p>
      <div class="extended-search" [ngClass]="status ? 'increase' : 'decrease'">
        <section>
          <mat-checkbox [(ngModel)]="a">Valinta 1</mat-checkbox>
          <mat-checkbox [(ngModel)]="b">Valinta 2</mat-checkbox>
        </section>
      </div>
    </div>
  </div>
</div>

<div class="row" *ngIf="isSearching">
    <div class="col-12 text-center">
        <h4>Etsitään ... </h4>
    </div>
</div>
<div class="row">
  <div class="searchbox">
    <ng-container *ngIf="apiResponse['Response'] == 'False'; else elseTemplate">
        <div class="col-12 text-center">
            <div class="alert alert-danger" role="alert">
                {{apiResponse['Error']}}
            </div>
        </div>
    </ng-container>
    <ng-template #elseTemplate>
        <div class="col" *ngFor="let publication of apiResponse">
            <div class="card" style="margin:5px;">
                <div class="card-body">
                    <h5 class="card-title">{{ publication['julkaisunNimi'] }}</h5>
                    <p class="card-text">Tunnus: {{ publication['julkaisunTunnus'] }}</p>
                </div>
            </div>
        </div>
    </ng-template>
  </div>
</div>