<!--  This file is part of the research.fi API service
 Copyright 2019 Ministry of Education and Culture, Finland
 :author: CSC - IT Center for Science Ltd., Espoo Finland servicedesk@csc.fi
 :license: MIT -->
  
<div class="wrapper" *ngIf="allData">
  <div #scroll class="scroll" *ngFor="let counted of allData">
    <div *ngIf="lastScrollLocation > 0" class="edge">
      <div class="grad grad-left"></div>
      <div class="arrow arrow-left d-none d-sm-block" (click)="scrollLeft()"><fa-icon [icon]="faArrowLeft"></fa-icon></div>
    </div>
    <div *ngIf="offsetWidth + lastScrollLocation < scrollWidth" class="edge">
      <div class="grad grad-right"></div>
      <div class="arrow arrow-right d-none d-sm-block" (click)="scrollRight()"><fa-icon [icon]="faArrowRight"></fa-icon></div>
    </div>
    <div *ngFor="let tab of tabData" class="bundler" [ngStyle]="homepageStyle" [class.active]="selectedTab===tab.link">
      <a routerLink="/results/{{tab.link}}/{{searchService.currentInput | async}}/" [queryParams]="queryParams[tab.link]">
        <div class="tab-icon" class="tab-icon {{tab.data}}" [ngStyle]="homepageIcons"><fa-icon [icon]="tab.icon"></fa-icon></div>
        <div *ngIf="locale === 'fi-FI'" class="label text-center">{{tab.labelFi}}</div>
        <div *ngIf="locale === 'se'" class="label text-center">{{tab.labelSe}}</div>
        <div *ngIf="locale === 'en'" class="label text-center">{{tab.labelEn}}</div>
        <div class="numeric-box d-none d-sm-block">0
          {{tab.data ? counted.aggregations._index.buckets[tab.data].doc_count : 999}}
        </div> <!-- TODO: Remove the ternary operator when all data becomes available -->
      </a>
    </div>
  </div>
</div>